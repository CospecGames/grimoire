func as(array ary) vec2 {
    return vec2(
        ary[0] as float,
        ary[1] as float);
}

main {
    let v = [-2.7, 5.0] as vec2;
    //Prints -2.7 then 5
    print(v.x);
    print(v.y);
}


/*
func vo(int i) vec2 {
    vec2 v;
    v.x = i;
    v.y = i;
    return v;
}*/
/*
Todo:
    - déclaration d'une variable locale et d'une fonction du même nom

    Suggestions:
    Système de channel comme mosaiq
    raise "Error" try catch
    Variables globales
    Conversion entre Array et String
    Initialiser une structure par une array
    Opérateur de conversion

    Surchage d'opérateur unaire
    Surcharge d'opérateur de conversion
*/
/*
main {
    func() func(int) foo;
    
    foo = &test;
    func(int) p = foo();
    p(5);
}

func test() func(int) {
    let a = func(int t) {
        print(t);
    };
    return a;
}

*/

/*
    Structures

    struct Foo {
        int a; //register 0 int
        float b; //register 1 float
        bool c; //register 2 bool
    }

    main {
        Foo foo;
        foo.a //parse identifier avec opérateur '.'
        //On récupère le type Foo et récupère a dans Foo
        //comme une variable locale dans une fonction
    }

*/
/*
struct vec2 {
    float x;
    float y;
}

vec2 v;//register 2 int
v.x = 0;
v.y = 0;
*/



/*To do:
    (x) vec2 a = b;
    () a = [2.0, 5.0];
    () return a;
*/